!function(n,s,t,e,o){try{if("string"==undefined||"string"==undefined||"string"==undefined||typeof o==undefined)return;if("string"!=typeof o)return;var r=function(){this.constant={COOKIE_KEY_O2_ID:"___o2u_o2id",COOKIE_KEY_O2_ID_LIFETIME:31536e3,COOKIE_KEY_O3_ID:"___o2u_o3id",COOKIE_KEY_TD_CLIENT_ID:"_td",RESPONSE_KEY_O2_ID:"o2Id",TD_TABLE_TRASH_LOG:"trash_log",TIMEOUT_API_REQUEST:200,WAIT_TIME_API_RESPONSE:100,UNSUPPORTED_BROWSER:["ie6","ie7","ie8"]},this.property={id:e,domain:t,isCookieEnabled:1}};r.prototype.convertStringToObject=function(t){try{return new Function("return "+t)()}catch(e){return{}}},r.prototype.logging=function(t){try{var e="string"==typeof this.property.domain?this.property.domain:"",o="string"==typeof t||"error"==typeof t?t:"";return("#u5Sq77frGuy475KLcXeYRMCQ7DyW3LF4"==location.hash||null!=e.match("^localhost")||null!=e.match("^test.")||null!=e.match("^testing.")||null!=e.match("^development."))&&n.console&&n.console.log&&(!o||console.log(o),!t.message||console.log(t.message),!t.stack||console.log(t.stack)),!0}catch(r){return!1}},r.prototype.setBrowser=function(){try{this.logging("exec setBrowser");var t=n.navigator.userAgent.toLowerCase(),e=n.navigator.appVersion.toLowerCase(),o="unknown";-1!=t.indexOf("msie")?o=-1!=e.indexOf("msie 6.")?"ie6":-1!=e.indexOf("msie 7.")?"ie7":-1!=e.indexOf("msie 8.")?"ie8":-1!=e.indexOf("msie 9.")?"ie9":-1!=e.indexOf("msie 10.")?"ie10":"ie":-1!=t.indexOf("trident/7")?o="ie11":-1!=t.indexOf("chrome")?o="chrome":-1!=t.indexOf("safari")?o="safari":-1!=t.indexOf("opera")?o="opera":-1!=t.indexOf("firefox")?o="firefox":-1!=t.indexOf("edge")&&(o="edge"),this.property.browser=o}catch(r){this.property.browser=""}return this},r.prototype.isSupportedBrowser=function(){try{if(this.logging("exec isSupportedBrowser"),"undefined"==typeof this.property.browser||""==this.property.browser)throw new Error("not set browser name");if(-1!=this.constant.UNSUPPORTED_BROWSER.indexOf(this.property.browser))throw new Error(this.property.browser+" is unsupported browser");return!0}catch(t){return this.logging(t),!1}},r.prototype.factoryTdInstance=function(t){try{if(this.logging("exec factoryTdInstance"),"object"!=typeof t)throw new Error("$config is not object");if("string"!=typeof t.tdHost)throw new Error("$config.host is not object");if("string"!=typeof t.tdDatabase)throw new Error("$config.database is not object");if("string"!=typeof t.tdApikey)throw new Error("$config.writeKey is not object");var e=new O2uTreasure({host:t.tdHost,database:t.tdDatabase,writeKey:t.tdApikey,startInSignedMode:!0});return e.set("$global","td_global_id","td_global_id"),e}catch(o){return this.logging(o),null}},r.prototype.loadScript=function(t,e){try{if(this.logging("exec loadScript : "+t),"string"!=typeof t)throw new Error("invalid argument endpoint");if("boolean"!=typeof e)throw new Error("invalid argument isAsync");var o=document.createElement("script");return o.src=null==t.match("^(http://|https://|//)")?this.getProtocol()+"//"+t:t,e&&"undefined"!=typeof o.async&&(o.async=!0),document.body.appendChild(o),!0}catch(r){return this.logging(r),!1}},r.prototype.setCookie=function(t,e,o,r,i,n){try{if(this.logging("exec setCookie"),"string"!=typeof t)throw new Error("argument $k is not string");if("string"!=typeof e&&"number"!=typeof e)throw new Error("argument $v is not string, number");if("string"!=typeof o)throw new Error("argument $domain is not string");if("string"!=typeof r)throw new Error("argument $path is not string");if("number"!=typeof i)throw new Error("argument $lifetime is not number");if("string"!=typeof n)throw new Error("argument $secure is not string");if(0==this.property.isCookieEnabled)return this;var s=new Date((new Date).getTime()+i);return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+"; expires="+s+(""!=o?"; domain="+o:"")+(""!=r?"; path="+r:"")+(""!=n?"; secure":""),!0}catch(a){return this.logging(a),!1}},r.prototype.getCookie=function(t){try{if(this.logging("exec getCookie"),0==this.property.isCookieEnabled)return"";if("string"!=typeof t&&""!=t)throw new Error("invalid argument $k");var e={search:new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\="),extract:new RegExp("(?:^|.*;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*")};return e.search.test(document.cookie)?decodeURIComponent(document.cookie.replace(e.extract,"$1")):""}catch(o){return this.logging(o),""}},r.prototype.deleteCookie=function(t,e,o){try{if(this.logging("exec deleteCookie"),0==this.property.isCookieEnabled)return!1;var r=void 0!==e?e:location.hostname,i=void 0!==o?o:"";if("string"!=typeof t&&""!=t)throw new Error("invalid argument $k");if("string"!=typeof r&&""!=t)throw new Error("argument $host is not string");if("string"!=typeof i&&""!=t)throw new Error("argument $path is not string");return""!=i&&(document.cookie=encodeURIComponent(t)+"=; max-age=0; path="+i+"; domain="+r,document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path="+i+"; domain="+r),""==i&&(document.cookie=encodeURIComponent(t)+"=; max-age=0; domain="+r,document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain="+r),this}catch(n){return this.logging(n),!1}},r.prototype.setCookieStatus=function(){try{return this.logging("exec setCookieStatus"),0==this.property.isCookieEnabled?!1:(this.setCookie("_____write_test_","success",location.hostname,"/",60,""),"success"!=this.getCookie("_____write_test_")?(this.property.isCookieEnabled=0,!1):(this.deleteCookie("_____write_test_",location.hostname,"/"),!0))}catch(t){return this.logging(t),!1}},r.prototype.execGetRequest=function(t,e){try{var o,r=!1;if("function"!=typeof e&&(e=function(){}),"undefined"==typeof n.XDomainRequest||"ie8"!=this.property.browser&&"ie9"!=this.property.browser?o=n.XMLHttpRequest?new XMLHttpRequest:n.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null:(o=new XDomainRequest,r=!0),null==o)throw new Error("browser is not support to ajax request");return o.open("GET",t,!0),o.timeout=this.constant.TIMEOUT_API_REQUEST,r?(o.onload=function(){e({status:200,url:t,type:"",text:o.responseText})},setTimeout(function(){o.send()},0)):(o.addEventListener("loadend",function(){e({status:o.status,url:o.responseURL,type:o.responseType,text:o.responseText})}),o.send()),!0}catch(i){return this.logging(i),!1}},r.prototype.requestOptout3rd=function(){try{this.logging("execute request optout 3rd");var t=location.protocol+"//"+this.property.domain+"/optout/set/?id="+this.property.id;this.loadScript(t,!0)}catch(e){this.logging(e)}},r.prototype.waitForLoadingTreasureDataSdk=function(o){var r=0,i=setInterval(function(){try{if(1200<++r)throw new Error("not initialize core script");try{var t=typeof O2uTreasure;if(0==("undefined"!=t&&"function"==t.toLowerCase()))return}catch(e){return}clearInterval(i),o.call()}catch(e){e=e instanceof Error?e:"not initialize core script :: "+e,n[s].logging(e),clearInterval(i)}},50)},r.prototype.initImUidSdk=function(){try{n[s].logging("exec initImUidSdk"),this.loadScript(o.imuidScriptEndpoint,!1),n.IMUIDRequest=n.IMUIDRequest||[],IMUIDRequest.push({customerId:o.imuidCustomerId,callback:function(t){t.uid?n[s].property.im_uid=t.uid:n[s].logging("Could not get imuid...")},callbackTimeout:1e3})}catch(t){this.logging(t)}return this},r.prototype.waitForGettingImuid=function(e){var o=0,r=setInterval(function(){try{if(o++,""==n[s].property.im_uid&&o<=4)return}catch(t){n[s].logging(t)}clearInterval(r),e.call()},50)};var i=new r;if(o="object"==typeof i.convertStringToObject(o)?i.convertStringToObject(o):{},i.property.optout="undefined"!=typeof o.optout?o.optout:"",i.property.siteId="undefined"!=typeof o.site&&"undefined"!=typeof o.site.siteId?o.site.siteId:"",i.property.clientId="undefined"!=typeof o.site&&"undefined"!=typeof o.site.clientId?o.site.clientId:"",i.property.o3id="undefined"!=typeof o.o3Id?o.o3Id:"",i.property.imApiEndpoint="undefined"!=typeof o.imApiEndpoint?o.imApiEndpoint:"",i.property.tagType="undefined"!=typeof o.site&&"undefined"!=typeof o.site.tagType?o.site.tagType:"",i.property.scriptName="undefined"!=typeof o.site&&"undefined"!=typeof o.site.scriptName?o.site.scriptName:"",i.property.customParameter="undefined"!=typeof o.customParameter&&"object"==typeof o.customParameter?o.customParameter:{},i.property.tdConfig={tdApikey:"undefined"!=typeof o.site&&"undefined"!=typeof o.site.tdApikey?o.site.tdApikey:"",tdHost:"undefined"!=typeof o.site&&"undefined"!=typeof o.site.tdHost?o.site.tdHost:"",tdDatabase:"undefined"!=typeof o.site&&"undefined"!=typeof o.site.tdDatabase?o.site.tdDatabase:"",tdTable:"undefined"!=typeof o.site&&"undefined"!=typeof o.site.tdTable?o.site.tdTable:""},i.setCookieStatus(),i.setBrowser(),""==(n[s]=i).property.imApiEndpoint)return;if("optout"==i.property.optout)return i.logging("is optout browser"),i.setCookie(i.constant.COOKIE_KEY_O2_ID,"optout","","/",i.constant.COOKIE_KEY_O2_ID_LIFETIME,"");if("optout"==i.getCookie(i.constant.COOKIE_KEY_O2_ID)&&i.setCookie(i.constant.COOKIE_KEY_O2_ID,"","","/",i.constant.COOKIE_KEY_O2_ID_LIFETIME,""),!i.isSupportedBrowser())return i.logging("not supported browser");!function(t,e){if(void 0===e[t]){e[t]=function(){e[t].clients.push(this),this._init=[Array.prototype.slice.call(arguments)]},e[t].clients=[];for(var o=["addRecord","fetchGlobalID","set","trackEvent","trackPageview","trackClicks","ready"],r=0;r<o.length;r++){var i=o[r];e[t].prototype[i]=function(t){return function(){return this["_"+t]=this["_"+t]||[],this["_"+t].push(Array.prototype.slice.call(arguments)),this}}(i)}var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https:":"http:")+"//cdn.o2u.jp/scripts/o2u-treasure/2.4.2/o2utreasure.min.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s)}}("AlternateSDK",this),n[s].logging("get im api"),n[s].property.imid="";var a=n[s].property.imApiEndpoint+"?token=11Edm_Tsc8jGM09UZqwoBg&callback=window.___o2u_callback_view_track_func";n[s].loadScript(a,!0),n[s].property.im_uid="",n[s].initImUidSdk();var p={},d={requestTgGlobalId:function(){try{p=n[s].factoryTdInstance(n[s].property.tdConfig),n[s].logging("get td global id"),n[s].property.tdGlobalId="",p.fetchGlobalID(function(t){n[s].property.tdGlobalId=t,d.requestO2Id()},function(){d.requestO2Id()})}catch(t){n[s].logging(t)}},requestO2Id:function(){try{n[s].logging("get o2u id"),n[s].property.o2id="";try{document.title.replace(/^\s+|\s+$/g,"")}catch(e){}try{n.navigator.userAgent}catch(e){}var t=location.protocol+"//"+n[s].property.domain+"/nba/?id="+n[s].property.id+"&o2Id="+n[s].getCookie(n[s].constant.COOKIE_KEY_O2_ID)+"&o3Id="+n[s].property.o3id;undefined!==n[s].property.tdGlobalId&&null!==n[s].property.tdGlobalId&&""!==n[s].property.tdGlobalId&&(t+="&tdGlobalId="+n[s].property.tdGlobalId),t+="&tdClientId="+n[s].getCookie(n[s].constant.COOKIE_KEY_TD_CLIENT_ID),n[s].execGetRequest(t,function(t){try{if("200"!=t.status&&""==t.text)throw new Error("Invalid response data");if("undefined"==typeof(t=n[s].convertStringToObject(t.text)).usercard)throw new Error("failed get $usercard");if("object"!=typeof t.usercard)throw new Error("$usercard is not object");if("undefined"==typeof t.usercard[n[s].constant.RESPONSE_KEY_O2_ID])throw new Error("failed get $usercard.o2id");if("string"!=typeof t.usercard[n[s].constant.RESPONSE_KEY_O2_ID])throw new Error("$usercard.o2id is not string");return n[s].property.o2id=t.usercard[n[s].constant.RESPONSE_KEY_O2_ID],n[s].setCookie(n[s].constant.COOKIE_KEY_O2_ID,n[s].property.o2id,"","/",n[s].constant.COOKIE_KEY_O2_ID_LIFETIME,""),void d.sendViewTrackingLog()}catch(e){n[s].logging(e)}})}catch(e){n[s].logging(e)}},sendViewTrackingLog:function(){try{n[s].logging("execute send view tracking log");for(var t={o2id:n[s].property.o2id,imid:n[s].property.imid,segment_eids:n[s].property.segment_eids,im_uid:n[s].property.im_uid},e=Object.keys(n[s].property.customParameter),o=0;o<e.length;o++)t[e[o]]=n[s].property.customParameter[e[o]];p.set(n[s].property.tdConfig.tdTable,t),p.trackPageview(n[s].property.tdConfig.tdTable,d.successWaterfall)}catch(r){n[s].logging(r)}},successWaterfall:function(){try{if(n[s].logging("success waterfall process"),"undefined"==typeof n[s].property.scriptName||""==n[s].property.scriptName)return!0;var t=location.protocol+"//"+n[s].property.domain+"/cs/?id="+n[s].property.id;n[s].loadScript(t,!0)}catch(e){n[s].logging(e)}}},c="undefined"!=typeof n[s].property.imid&&""!=n[s].property.imid?0:n[s].constant.WAIT_TIME_API_RESPONSE;setTimeout(i.waitForLoadingTreasureDataSdk(function(){i.waitForGettingImuid(d.requestTgGlobalId)}),c)}catch(u){return}}(window,"___o2u_v__100_h00F4d713Ccr43joDL+7WfE/sv3+wx3h","a.o2u.jp","h00F4d713Ccr43joDL+7WfE/sv3+wx3h","{'imuidCustomerId':'1007685','imuidScriptEndpoint':'https://dmp.im-apps.net/sdk/im-uid.js','optout':'','site':{'id':'jc_441120_____0001','siteId':'0001','clientId':'jc_441120','tdHost':'in.treasuredata.com','tdDatabase':'jc_441120','tdTable':'sys_0001','tdApikey':'4433/620db8412b80e8d1bac49e86aa4b92aebb6d573b','scriptName':'','tagType':'tracking','resposneStyle':''},'customParameter':{},'o3Id':'f782e5cf-51dc-4556-9ae7-f69894b120b4','imApiEndpoint':'https://sync.im-apps.net/imid/segment'}"),window.___o2u_callback_view_track_func=function(t){try{var e="___o2u_v__100_h00F4d713Ccr43joDL+7WfE/sv3+wx3h";return window[e].property.imid="undefined"!=typeof t.imid?t.imid:"",window[e].property.segment_eids="undefined"!=typeof t.segment_eids?t.segment_eids:"",!0}catch(o){return!1}};